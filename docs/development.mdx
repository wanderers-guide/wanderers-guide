---
title: 'Development'
description: "Running Wanderer's Guide locally"
---

<Info>
  **Prerequisites**:
  - [Node.js](https://nodejs.org/en/download) version 19 or higher
  - [Docker](https://www.docker.com/)
  - [Supabase CLI](https://supabase.com/docs/guides/local-development) for your OS (follow the instructions [here](https://supabase.com/docs/guides/cli/getting-started))
  - [Postgres](https://www.postgresql.org/), need `psql` (the client command line)
</Info>

Follow these steps to run Wanderer's Guide locally on your system.

<Steps>
<Step title="Clone our repository">

```bash
git clone https://github.com/wanderers-guide/wanderers-guide.git
```

And navigate to the created `wanderers-guide` directory.

</Step>
<Step title="Initialize Supabase locally">

Make sure Docker is running and then run the following command:

```bash
supabase start
```

This will print a few details about the Supabase local setup that will be required later.

</Step>
<Step title="Populate local database">

Go into the `data/` folder and run:

```bash
./create-db.sh <DB_URL>
```
Replace `<DB_URL>` with the value obtained in step 2.
  - It should look something like: `postgresql://postgres:postgres@127.0.0.1:54322/postgres`

This will create all the tables needed.

</Step>
<Step title="Set environment variables">

In the `frontend/` directory, copy `.env.local.template` to `.env.local` and replace the placeholder variables in `.env.local`:

- Replace `<API_URL>` and `<ANON_KEY>` with the values obtained in step 2.
- **[Optional]** If you'd like to roll virtual dice, `<DDDICE_API_KEY>` must be replaced with the API key to [dddice](https://dddice.com)
  - The API key can be generated by creating a [dddice](https://dddice.com) account, visiting ["My Account" -> "Developers"](https://dddice.com/account/developer) and clicking on "Create API Key"


</Step>
<Step title="Install dependencies">

Still in the `frontend/` directory, run the following:

```bash
npm i
```

</Step>
<Step title="Serve the frontend">

Use the following to run the frontend locally:

```bash
npm run dev
```

</Step>
<Step title="Serve the backend">

In another terminal window, under the `supabase/` directory, run the following:

```bash
supabase functions serve
```

</Step>
<Step title="Complete ðŸŽ‰">

Wanderer's Guide should now be running locally! You can access it at: http://localhost:5173.

To be able to log in, you need to have a user in the local database.
</Step>
</Steps>

## Creating a user

<Steps>
<Step title="Visit Supabase studio">

Go to the local supabase studio URL (default http://127.0.0.1:54323)

</Step>
<Step title="Create internal user record">

On the authentication page, create a new user with email and password.
Copy the user UID generated.

</Step>
<Step title="Create public user record">

Go to the Table Editor page and select the `public_user` table.

Create a new Public User record by clicking `Insert` -> `Insert row`.
- Make sure to fill in the `user_id` field with the user UID generated in step 2.

</Step>
<Step title="Login to Wanderer's Guide">

Back in the running Wanderer's Guide, you can now log in with the email and password you had set.

</Step>
</Steps>

## Troubleshooting

<AccordionGroup>
  <Accordion title='Error: Cannot connect to the Docker daemon'>

    This is a common issue when Docker is not running or not properly installed. Make sure [Docker](https://www.docker.com/products/docker-desktop/) is installed and running on your machine.
    
    In the case of a Mac or Windows machine, you can try restarting Docker Desktop.

  </Accordion>

  <Accordion title="Error: psql command not found">
  
    This error indicates that the `psql` command-line tool for PostgreSQL is not installed or not in your system's PATH. You can install it by following the instructions on the [PostgreSQL website](https://www.postgresql.org/download/).
    
    If you have PostgreSQL installed but still see this error, ensure that the directory containing `psql` is included in your system's PATH environment variable.
    
  </Accordion>
</AccordionGroup>

<Note>
Curious about how to contribute? Check out our [Discord server](https://discord.com/invite/FxsFZVvedr) and [GitHub issues](https://github.com/wanderers-guide/wanderers-guide/issues)!
</Note>